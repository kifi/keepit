var Mustache;
(function(p){"undefined"!==typeof module&&module.exports?module.exports=p:"function"===typeof define?define(p):Mustache=p})(function(){function p(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function r(a){this.tail=this.string=a;this.pos=0}function l(a,b){this.view=a;this.parent=b;this.clearCache()}function h(){this.clearCache()}function w(a){for(var b=a[3],c=b,d;(d=a[4])&&d.length;)a=d[d.length-1],c=a[3];return[b,c]}function s(a){function b(a,b,g){if(!c[a]){var e=s(b);c[a]=function(a,
b){return e(a,b,g)}}return c[a]}var c={};return function(c,f,g){for(var e="",k,j,i=0,h=a.length;i<h;++i)switch(k=a[i],k[0]){case "#":j=g.slice.apply(g,w(k));e+=c._section(k[1],f,j,b(i,k[4],g));break;case "^":e+=c._inverted(k[1],f,b(i,k[4],g));break;case ">":e+=c._partial(k[1],f);break;case "&":e+=c._name(k[1],f);break;case "name":e+=c._escaped(k[1],f);break;case "text":e+=k[1]}return e}}function t(a){if(2!==a.length)throw Error("Invalid tags: "+a.join(" "));return[RegExp(p(a[0])+"\\s*"),RegExp("\\s*"+
p(a[1]))]}var j={name:"mustache.js",version:"0.7.1",tags:["{{","}}"]};j.Scanner=r;j.Context=l;j.Writer=h;var x=/\s*/,y=/\s+/,z=/\S/,u=/\s*=/,A=/\s*\}/,B=/#|\^|\/|>|\{|&|=|!/,v=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},C={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};j.escape=function(a){return String(a).replace(/[&<>"'\/]/g,function(a){return C[a]})};r.prototype.eos=function(){return""===this.tail};r.prototype.scan=function(a){return(a=
this.tail.match(a))&&0===a.index?(this.tail=this.tail.substring(a[0].length),this.pos+=a[0].length,a[0]):""};r.prototype.scanUntil=function(a){var b=this.tail.search(a);switch(b){case -1:a=this.tail;this.pos+=this.tail.length;this.tail="";break;case 0:a="";break;default:a=this.tail.substring(0,b),this.tail=this.tail.substring(b),this.pos+=b}return a};l.make=function(a){return a instanceof l?a:new l(a)};l.prototype.clearCache=function(){this._cache={}};l.prototype.push=function(a){return new l(a,this)};
l.prototype.lookup=function(a){var b=this._cache[a];if(!b){if("."===a)b=this.view;else for(var c=this;c;){if(0<a.indexOf("."))for(var d=a.split("."),f=0,b=c.view;b&&f<d.length;)b=b[d[f++]];else b=c.view[a];if(null!=b)break;c=c.parent}this._cache[a]=b}"function"===typeof b&&(b=b.call(this.view));return b};h.prototype.clearCache=function(){this._cache={};this._partialCache={}};h.prototype.compile=function(a,b){var c=this._cache[a];c||(c=j.parse(a,b),c=this._cache[a]=this.compileTokens(c,a));return c};
h.prototype.compilePartial=function(a,b,c){b=this.compile(b,c);return this._partialCache[a]=b};h.prototype.compileTokens=function(a,b){var c=s(a),d=this;return function(a,g){if(g)if("function"===typeof g)d._loadPartial=g;else for(var e in g)d.compilePartial(e,g[e]);return c(d,l.make(a),b)}};h.prototype.render=function(a,b,c){return this.compile(a)(b,c)};h.prototype._section=function(a,b,c,d){a=b.lookup(a);switch(typeof a){case "object":if(v(a)){for(var c="",f=0,g=a.length;f<g;++f)c+=d(this,b.push(a[f]));
return c}return a?d(this,b.push(a)):"";case "function":var e=this,d=a.call(b.view,c,function(a){return e.render(a,b)});return null!=d?d:"";default:if(a)return d(this,b)}return""};h.prototype._inverted=function(a,b,c){a=b.lookup(a);return!a||v(a)&&0===a.length?c(this,b):""};h.prototype._partial=function(a,b){!(a in this._partialCache)&&this._loadPartial&&this.compilePartial(a,this._loadPartial(a));var c=this._partialCache[a];return c?c(b):""};h.prototype._name=function(a,b){var c=b.lookup(a);"function"===
typeof c&&(c=c.call(b.view));return null==c?"":String(c)};h.prototype._escaped=function(a,b){return j.escape(this._name(a,b))};j.parse=function(a,b){for(var a=a||"",b=b||j.tags,c=t(b),d=new r(a),f=[],g=[],e=!1,k=!1,h,i,m;!d.eos();){h=d.pos;if(m=d.scanUntil(c[0]))for(var l=0,q=m.length;l<q;++l)if(i=m.charAt(l),RegExp.prototype.test.call(z,i)?k=!0:g.push(f.length),f.push(["text",i,h,h+1]),h+=1,"\n"===i){if(e&&!k)for(;g.length;)f.splice(g.pop(),1);else g=[];k=e=!1}h=d.pos;if(!d.scan(c[0]))break;e=!0;
i=d.scan(B)||"name";d.scan(x);"="===i?(m=d.scanUntil(u),d.scan(u),d.scanUntil(c[1])):"{"===i?(m=RegExp("\\s*"+p("}"+b[1])),m=d.scanUntil(m),d.scan(A),d.scanUntil(c[1]),i="&"):m=d.scanUntil(c[1]);if(!d.scan(c[1]))throw Error("Unclosed tag at "+d.pos);f.push([i,m,h,d.pos]);if("name"===i||"{"===i||"&"===i)k=!0;"="===i&&(b=m.split(y),c=t(b))}for(var c=f,n,f=[],g=0;g<c.length;++g)d=c[g],n&&"text"===n[0]&&"text"===d[0]?(n[1]+=d[1],n[3]=d[3]):(n=d,f.push(d));n=f;e=c=[];d=[];for(g=0;g<n.length;++g)switch(f=
n[g],f[0]){case "#":case "^":f[4]=[];d.push(f);e.push(f);e=f[4];break;case "/":if(0===d.length)throw Error("Unopened section: "+f[1]);e=d.pop();if(e[1]!==f[1])throw Error("Unclosed section: "+e[1]);e=0<d.length?d[d.length-1][4]:c;break;default:e.push(f)}if(e=d.pop())throw Error("Unclosed section: "+e[1]);return c};var q=new h;j.clearCache=function(){return q.clearCache()};j.compile=function(a,b){return q.compile(a,b)};j.compilePartial=function(a,b,c){return q.compilePartial(a,b,c)};j.compileTokens=
function(a,b){return q.compileTokens(a,b)};j.render=function(a,b,c){return q.render(a,b,c)};j.to_html=function(a,b,c,d){a=j.render(a,b,c);if("function"===typeof d)d(a);else return a};return j}());