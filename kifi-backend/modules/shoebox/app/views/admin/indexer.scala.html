@(indexInfos: Seq[(Option[com.keepit.controllers.admin.ClusterMemberInfo], com.keepit.search.IndexInfo)])

@admin("Index Infos") {
  <table class="table table-condensed table-striped">
    <thead>
      <th> ZK Id</th>
      <th>IPs</th>
      <th>Name</th>
      <th style="text-align:right;">Number of Docs</th>
      <th style="text-align:right;">Index Size</th>
      <th style="text-align:right;">Sequence#</th>
      <th>Committed At</th>
    </thead>
    @indexInfos.map{ case (cmi, indexInfo) =>
      <tr>
        <td>@{cmi.map(_.zkid).getOrElse("")}</td>
        <td>@{cmi.map(_.instanceInfo.localIp).getOrElse("")} / @{cmi.map(_.instanceInfo.publicIp).getOrElse("")}</td>
        <td>@{indexInfo.name}</td>
        <td style="text-align:right;">@{"%1$,d" format indexInfo.numDocs}</td>
        <td style="text-align:right;">@{"%1$,d" format indexInfo.indexSize.getOrElse("NA")}</td>
        <td style="text-align:right;">@{indexInfo.sequenceNumber}</td>
        <td>@{indexInfo.committedAt.getOrElse("NA")}</td>
      </tr>
    }
  </table>
}
