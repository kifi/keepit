@(data: Seq[com.keepit.controllers.admin.ClusterMemberInfo])

    @showInstanceInfo(amazonInstanceInfo: com.keepit.common.amazon.AmazonInstanceInfo) = {
       <table class="table table-bordered">
      <tr>
        <th>Instance</th><td><a href="https://console.aws.amazon.com/ec2/home?region=@{amazonInstanceInfo.availabilityZone}#s=Instances">@{amazonInstanceInfo.instanceId}</a></td>
      </tr>
      <tr>
        <th>Local Hostname</th><td>@{amazonInstanceInfo.localHostname}</td>
      </tr>
      <tr>
        <th>Public Hostname</th><td>@{amazonInstanceInfo.publicHostname}</td>
      </tr>
      <tr>
        <th>Local IP</th><td>@{amazonInstanceInfo.localIp}</td>
      </tr>
      <tr>
        <th>Public IP</th><td>@{amazonInstanceInfo.publicIp}</td>
      </tr>
      <tr>
        <th>Instance Type</th><td><a href="http://aws.amazon.com/ec2/instance-types/">@{amazonInstanceInfo.instanceType}</a></td>
      </tr>
      <tr>
        <th>AvailabilityZone</th><td><a href="http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Concepts.RegionsAndAvailabilityZones.html">@{amazonInstanceInfo.availabilityZone}</a></td>
      </tr>
      <tr>
        <th>Security Groups</th><td>@{amazonInstanceInfo.securityGroups}</td>
      </tr>
      <tr>
        <th>Ami Id</th><td>@{amazonInstanceInfo.amiId}</td>
      </tr>
      <tr>
        <th>Ami Launch Index</th><td>@{amazonInstanceInfo.amiLaunchIndex}</td>
      </tr>
      </table>
    }

    @admin("Clusters Overview") {
        <table class="table table-bordered">
            <th>Service Type</th> <th>Zookeeper Id</th> <th>Leader?</th>  <th>IPs</th> <th>State</th> <th>Version <small>(this machine thinks!)</small></th> <th>Capabilities</th> <th>AWS Instance Details</th>
            @for(cmi <- data) {
                <tr>
                    <td>@cmi.serviceType.name</td>
                    <td>@cmi.zkid</td>
                    <td>@cmi.isLeader</td>
                    <td> @cmi.instanceInfo.localIp / @cmi.instanceInfo.publicIp  </td>
                    <td>@cmi.state.name</td>
                    <td>@cmi.version</td>
                    <td>
                      <ul>
                        @for(capability <- cmi.capabilities){
                          <li>@capability</li>
                        }
                      </ul>
                    </td>
                    <td>
                      <div id="@cmi.instanceInfo.instanceId" class="modal hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                        <div class="modal-header">
                          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
                          <h3 id="myModalLabel">AWS Instance Details</h3>
                        </div>
                        <div class="modal-body">
                          <p>@showInstanceInfo(cmi.instanceInfo)</p>
                        </div>
                      </div>
                      
                      <button type="button" data-toggle="modal" data-target="#@cmi.instanceInfo.instanceId">Show</button>
                    </td> 
                </tr>
            }
        </table>
    }

