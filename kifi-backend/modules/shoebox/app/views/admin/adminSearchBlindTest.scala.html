@()

@admin("Search Blind Test"){

	<form id = "queryForm">
		<div>
			<input id = "userId" type = "text" value = "" placeholder = "userId">
			<input id = "queryText" type = "text" value = "" placeholder = "queryText">
			<input id = "maxHits" type = "text" value = "" placeholder = "maxHits">
			<button type = "submit">submit</button>
	  </div>
	</form>

	<p id = "result"></p>


<script type="text/javascript">

	$(document).ready(function(){
		$("#queryForm").submit(function(event) {
			event.preventDefault();
			$.post(
				'@com.keepit.controllers.admin.routes.AdminSearchController.blindTest',
				{userId: $("#userId").val(), query: $("#queryText").val(), maxHits: $("#maxHits").val()},
				function(data) {

	      	$("#result").empty();

	      	var arr = data;
	      	var numHits = arr.length

	      	$("#result").append("<div><strong> num of hits: " + numHits +  "</strong></div>")
	      	for(var i = 0; i < arr.length; i++){
	      		var item = arr[i];
	      		$("#result").append("<div>" + item.title + "</div>");
	      		$("#result").append("<div><a href = " + item.url + "/a>" + item.url + "</div><br>");
	      	}
      	},
				"json"
			)

		}) <!--submit-->

	});

</script>

}