@(pending:Seq[ScrapeInfo], count:Int)(implicit flash: Flash)

@import com.keepit.controllers.admin.routes

<div>
    <div class="page-title">
        @if(pending.length == count) {
            <h2>Pending Queue (@count results)</h2>
        } else {
            <h2>Pending Queue (showing @pending.length out of @count results)</h2>
        }
    </div>

    <div class="request-table">
        <table class="table table-condensed table-striped">
            <tr>
                <th class="span1">Id</th>
                <th class="span1">uriId</th>
                <th class="span2">lastScrape</th>
                <th class="span2">nextScrape</th>
                <th class="span1">interval</th>
                <th class="span1">failures</th>
                <th class="span1">state</th>
                <th class="span1">signature</th>
                <th class="span2">destUrl</th>
            </tr>
            @for(info <- pending) {
            <tr>
                <td>@info.id</td>
                <td><a href="@com.keepit.controllers.admin.routes.AdminBookmarksController.editFirstBookmarkForUri(info.uriId)">@info.uriId</a></td>
                <td>@adminHelper.dateTimeDisplay(info.lastScrape)</td>
                <td>@adminHelper.dateTimeDisplay(info.nextScrape)</td>
                <td>@info.interval</td>
                <td>@info.failures</td>
                <td>@info.state</td>
                <td>@info.signature.take(20)</td>
                <td><a href="@info.destinationUrl">@info.destinationUrl</a></td>
            </tr>
            }
        </table>
    </div>
</div>