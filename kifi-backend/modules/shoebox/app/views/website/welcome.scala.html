@(id: Option[ExternalId[Invitation]] = None, socialUser: Option[SocialUserInfo] = None,
    msg: Option[String] = None, skipLetMeIn: Boolean = false)

@helper.main(title = "Welcome to Kifi!", hiddenElements = Seq("header"), head = Html(s"""
    <meta property="og:url" content="https://www.kifi.com${id map (com.keepit.controllers.website.routes.InviteController.acceptInvite(_).url) getOrElse com.keepit.controllers.website.routes.HomeController.home()}">
    <meta property="og:image" content="https://www.kifi.com/assets/images/logo2.png">
    <meta property="og:title" content="${if (id.isDefined && socialUser.isDefined) s"You're invited to join Kifi." else "Welcome to Kifi!"}">
    <meta property="og:description" content="${if (id.isDefined && socialUser.isDefined) s"Hey ${socialUser.get.fullName}, you're invited to join Kifi! Click here to sign up." else "Welcome to Kifi!"}">
    <meta property="og:site_name" content="Kifi">
    """)) {
  <section class="content clearfix text_center welcome">
    <h1>Welcome to the <img src="@routes.Assets.at("images/logo2.png")" width="103" height="58" class="logo2"> private beta!</h1>

    @msg.map { m =>
      <p class="error-message">@m</p>
    }.getOrElse {
      <p>KiFi is still in stealth-mode and is open for<br>beta testers upon invitation only.</p>
    }

    <div class="welcome_btn@if(skipLetMeIn){ clicked}">
      <div class="letmein">
        <a href="javascript:" class="big blue btn" id="letmein">
          @if(id.isDefined && socialUser.isDefined) {
            It's me, @socialUser.get.fullName.
          }
          Let me in!
        </a>
      </div>
      <div class="networks">
      @for(network <- SocialNetworks.SUPPORTED.sortBy(network => !socialUser.exists(_.networkType == network))) {
        @if(socialUser.isEmpty || socialUser.get.networkType == network) {
          <a href="@com.keepit.controllers.core.routes.AuthController.login(network.name)" class="big blue btn">
            Log in with @network.displayName
          </a>
        } else {
          <br>
          <a href="@com.keepit.controllers.core.routes.AuthController.login(network.name)" class="btn">
            I want to log in with @network.displayName instead
          </a>
        }
      }
      </div>
      <div class="powered">Powered by Kifi Konnect</div>
    </div>
  </section>
}

<script>
$(function() {
  $("#letmein").click(function() {
    $(".welcome_btn").addClass("clicked");
  });
});
</script>
