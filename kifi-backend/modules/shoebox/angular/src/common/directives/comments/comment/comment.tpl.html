<div class="kf-keep-comment-container">

  <a ng-href="{{::comment.sentBy|profileUrl}}"
     ng-attr-style="background-image:url({{::comment.sentBy|pic:100}})" class="kf-keep-comment-img"></a>

  <div class="kf-keep-comment-content">
    <div>
      <a class="kf-keep-comment-commenter-name"
         ng-href="{{::comment.sentBy|profileUrl}}"
         ng-bind="::comment.sentBy|name"></a> </span>
      <time class="kf-keep-comment-time"
            ng-attr-datetime="{{::comment.sentAt}}" am-time-ago="::comment.sentAt"
            title="{{::comment.sentAt|localTime}}" ng-if="::comment.sentAt"></time>
    </div>
    <div class="kf-keep-comment-commenter-text">
      <div ng-repeat="part in commentParts" class="kf-keep-comment-inline">

        <div  ng-if="part.type === 'IMAGE'"
              class="kf-keep-comment-block"
              ng-class="{'kf-keep-comment-v-space': !$last, 'kf-keep-comment-v-space-top': $index - 1 >= 0 && commentParts[$index - 1].type !== 'IMAGE'}">
          <img class="kf-keep-comment-embedded-img" ng-src="{{part.data.src}}"/>
        </div>

        <div ng-if="part.type === 'TEXT_PLAIN'" ng-bind="part.data.text" class="kf-keep-comment-inline"></div>

        <div ng-if="part.type === 'EMAIL'" class="kf-keep-comment-inline">
          <a ng-href="mail-to:{{part.data.text}}" ng-bind="part.data.text" class="kf-keep-comment-inline"></a>
        </div>

        <div ng-if="part.type === 'LINK'" class="kf-keep-comment-inline">
          <a  ng-href="{{part.data.link}}"  ng-bind="part.data.text" class="kf-keep-comment-inline"></a>
        </div>

        <div ng-if="part.type === 'LOOK_HERE'" class="kf-keep-comment-inline">
          <a   ng-href="{{keep.url}}" ng-click="openLookHere()" title="{{part.data.title}}" ng-bind="part.data.text" class="kf-keep-comment-inline"/>
        </div>

      </div>
    </div>

  </div>

</div>