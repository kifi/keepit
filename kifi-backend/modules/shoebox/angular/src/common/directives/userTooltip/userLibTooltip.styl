cardBorderRadius = 16px  // from smallLibraryCard.styl
heightWithOptions = 162px
heightWithoutOptions = 120px

.kf-ult-show-options.kf-ult-show-options
  top: - heightWithOptions

.kf-ult-below.kf-ult-show-options.kf-ult-show-options
  top: auto
  bottom: - heightWithOptions

.kf-ult
  position: absolute
  z-index: 1
  top: - heightWithoutOptions
  left: calc(50% - 125px)
  text-align: left
  border-radius: cardBorderRadius
  box-shadow: 0 4px 9px rgba(0,0,0,.3)
  line-height: initial
  font-smoothing: antialiased
  cursor: pointer

  &.ng-enter
  &.ng-leave
    transition: transform 150ms, opacity 150ms
    transform-origin: 10% bottom

  &.ng-enter:not(.ng-enter-active)
  &.ng-leave-active
    transform: translate(0, 3px) scale(.95)
    opacity: 0

  &::before // invisible buffer so tooltip won't disappear when moving mouse pointer to it
    content: ''
    z-index: -1
    position: absolute
    left: calc(50% - 100px)
    bottom: -15px
    height: 40px
    width: 200px

  &::after
    z-index: -1
    content: ''
    position: absolute
    height: 16px
    width: 16px
    bottom: -6px
    left: calc(50% - 8px)
    box-sizing: border-box
    border: 1px solid
    border-color: #fff
    background-color: #fff
    box-shadow: 2px 2px 3px rgba(0,0,0,.1)
    transform: rotate(45deg)

.kf-ult-below
  top: auto
  bottom: - heightWithoutOptions

  &::before
    top: -16px
    bottom: auto

  &::after
    z-index: -1
    border-color: #CCC
    top:-6px

.user-lib-tooltip
  display: flex
  background: gray
  flex-direction: column
  width: 250px
  border-radius: 5px
  overflow: hidden

.user-lib-tooltip-top
  display: flex
  flex-direction: column
  padding: 10px
  margin-bottom: 4px


.user-lib-tooltip-title
  color: white
  display: flex
  justify-content: center
  align-items: flex-start
  white-space: nowrap

  > span
    overflow: hidden
    text-overflow: ellipsis
    font-size: 18px
    font-weight: bold
    padding: 0
    text-shadow: 1px 1px 1px rgba(0, 0, 0, .3)

  > svg
    position: relative
    top: 1.5px
    left: 3px
    fill: white
    flex-shrink: 0
    width: 20px
    height: 20px

  > img
    position: relative
    top: 3.75px
    width: 16px
    height: 16px

  > * + *
    margin-left: 8px


.user-lib-tooltip-authors
  display: flex
  flex-direciton: row
  justify-content: center
  white-space: no-wrap
  margin-top: 10px
  text-shadow: 1px 1px 1px rgba(0, 0, 0, .2)

.user-lib-tooltip-author-more
  height: 35px
  width: 35px
  margin-left: 5px
  border-radius: 50%
  border-color: white
  border-width: 1px
  border-style: solid
  line-height: 35px
  text-align: center
  font-size: 14px
  font-weight: bold
  text-shadow: 1px 1px 1px rgba(0, 0, 0, .2)
  box-shadow: 0px 1px 2px rgba(0, 0, 0, .3)
  color: white



.user-lib-tooltip-author-org
.user-lib-tooltip-author
  display: flex
  flex-direction: column
  align-items: center
  font-size: 12px
  font-weight: bold
  color: white
  width: 50px

  > img
    border-radius: 50%
    width: 35px
    height: 35px
    box-shadow: 0px 1px 2px rgba(0, 0, 0, .3)

  > span
    text-overflow: ellipsis
    overflow: hidden
    width: 100%
    width: 46px
    margin-top: 2px
    text-align: center

.user-lib-tooltip-author-org
  > img
    border-radius: 3px

.user-lib-tooltip-bottom
  display: flex
  flex-direction: row-reverse
  background: white
  align-items: center
  padding: 10px
  color: black

  > * + *
    margin-right: 10px

.user-lib-tooltip-follow-button
  border: solid 1.5px #888
  border-radius: 4px
  padding: 2px 6px
  color: #666
  font-size: 12px
  font-weight: bold
  width: 60px
  text-align: center

.user-lib-tooltip-follow-button-following
  border-color: followBlue

.user-lib-tooltip-follow-button-follow:after
  content: 'Follow'

.user-lib-tooltip-follow-button-following:after
  content: 'Following'
  color: followBlue

.user-lib-tooltip-follow-button-following:hover
  border-color: redColor

.user-lib-tooltip-follow-button-following:hover:after
  content: 'Unfollow'
  color: redColor

.user-lib-tooltip-notification-bell
  fill: #333
  height: 35px
  width: 35px

.user-lib-tooltip-notification-bell:hover
  fill: #999
