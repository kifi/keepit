label()
  background: textDarkColor
  padding: 3px 5px
  text-align: center
  font-size: 0.85rem

force-gone()
  top: -9999px
  bottom: auto

tooltip_trigger(background-color = false)
  position: relative
  display: inline-block
  cursor: pointer

  &:not(:hover)
    [data-kf-tooltip]
      &:not(:hover)
        &:after
        &:before
          force-gone()

  [data-kf-tooltip]
    &:hover
      &:after
      &:before
        opacity: 1

      &:after
        transform: translateY(-8px)
        transition: transform 0.25s

  &:not(:hover)
    .tooltip
      force-gone()

  &:hover
    [data-kf-tooltip]
      &:after
      &:before
        opacity: 1

      &:after
        transform: translateY(-8px)
        transition: transform 0.25s

    .tooltip
      opacity: 1
      transform: translateY(0px)

      &:after
        opacity: 1

tooltip-base()
  margin-bottom: 0
  position: absolute
  display: block
  opacity: 0
  bottom: 100%
  left: 50%
  margin-left: -20px
  box-shadow: 0px 5px 25px rgba(0, 0, 0, 0.25)
  pointer-events: none
  min-width: 100px
  text-align: center
  transition: transform 0.25s

tooltip-arrow()
  border-top-style: solid
  border-top-width: 10px
  border-left: 10px solid transparent
  border-right: 10px solid transparent
  width: 0px
  height: 0px
  content: ' '
  display: block
  background: transparent
  position: absolute
  left: 50%
  margin-left: -8px
  pointer-events: none
  opacity: 0

pseudo-tooltip-color(color = textDarkColor)
  &:after
    label(color)
    margin-bottom: 0

  &:before
    border-top-color: color

[data-kf-tooltip]
  position: relative

  pseudo-tooltip-color

  &:after
    content: attr(data-kf-tooltip)
    tooltip-base()
    transform: translateY(0px)
    z-index: 10

  &:before
    tooltip-arrow()
    bottom: 100%
    z-index: 100

  &:hover
    &:after
    &:before
      opacity: 1

    &:after
      transform: translateY(-8px)
      transition: transform 0.25s

  // Positioning

  &[data-kf-tooltip-position="bottom"]
    &:after
      top: 100%
      bottom: auto
      margin-top: 15px
      transform: translateY(-6px)

    &:before
      transform: rotate(180deg)
      top: 100%
      bottom: auto

  &[data-kf-tooltip-position="left"]
    &:after
      transform: translateY(6px)
      top: 50%
      bottom: auto
      margin-top: -19px
      margin-right: 12px
      left: auto
      right: 100%

    &:before
      transform: rotate(-90deg)
      top: 50%
      margin-top: -6px
      bottom: auto
      left: auto
      right: 100%

  &[data-kf-tooltip-position="right"]
    &:after
      transform: translateY(6px)
      top: 50%
      bottom: auto
      margin-top: -19px
      margin-left: 16px
      left: 100%
      right: auto

    &:before
      transform: rotate(90deg)
      top: 50%
      margin-top: -6px
      margin-left: 4px
      bottom: auto
      left: 100%
      right: auto
