<div class="kf-keep" ng-hide="keep.unkept && !keep.isProtected && keep.itemType !== 'reco'" ng-class="{ 'editing': editMode.enabled, 'kf-dragged': isDragging, 'kf-drag-target': isDragTarget }" draggable="true">
  <div class="kf-keep-edit-tools">
    <div class="kf-keep-checkbox-icon sprite sprite-checkbox-icon" ng-if="!isSelected({keep: keep})" ng-click="toggleSelect({keep: keep})"></div>
    <div class="kf-keep-checkbox-icon sprite sprite-checkbox-icon-active" ng-if="isSelected({keep: keep})" ng-click="toggleSelect({keep: keep})"></div>
    <div class="kf-keep-handle sprite sprite-grabbericon">
      <div class="kf-keep-checkbox" ng-click="onCheck($event, keep)"></div>
    </div>
  </div>

  <div class="kf-keep-body">
    <div class="kf-keep-contents">
      <div class="kf-keep-title">
        <div class="kf-keep-loader" ng-show="false"></div>
        <a class="kf-keep-title-link" ng-href="{{keep.url}}" target="_blank" ng-attr-title="{{keep.titleAttr}}" ng-bind-html="keep.titleHtml" ng-click="clickCallback({ 'keep': keep, event: $event })"></a>
      </div>

      <div class="kf-keep-content-line">
        <div class="kf-keep-subtitle">
          <span class="kf-keep-subtitle-element kf-keep-url" ng-attr-title="{{keep.url}}" ng-bind-html="keep.descHtml"></span>
          <span class="kf-keep-subtitle-element kf-keep-dot" ng-if="keep.createdAt">·</span>
          <span class="kf-keep-time" ng-show="keep.createdAt">kept&nbsp;<time class="kf-keep-subtitle-element" ng-attr-datetime="{{keep.createdAt}}" am-time-ago="keep.createdAt"></time></span>
          <span class="kf-keep-subtitle-element kf-keep-dot" ng-if="keep.summary.wordCount && keep.readTime">·</span>
          <div class="kf-keep-subtitle-element kf-keep-read-time" ng-show="keep.summary.wordCount && keep.readTime"><span class="sprite sprite-small-clock"></span>{{keep.readTime}} read</div>
        </div>

        <div class="kf-keep-small-image" ng-if="showSmallImage(keep)">
          <a ng-href="{{keep.url}}" target="_blank"><img class="kf-keep-image" ng-src="{{keep.summary.imageUrl}}" ng-click="clickCallback({ 'keep': keep, event: $event })"></a>
        </div>

        <div class="kf-keep-info-wrap">
          <div class="kf-keep-info">
            <div class="kf-keep-description">
              {{keep.summary.description}}
            </div>
          </div>
        </div>
      </div>

      <a ng-href="{{keep.url}}" target="_blank"><img class="kf-keep-big-image" ng-if="showBigImage(keep)" ng-src="{{keep.summary.imageUrl}}" ng-click="clickCallback({ 'keep': keep, event: $event })"></a>
    </div>

    <div class="kf-keep-who" ng-if="keep.showSocial">
      <div kf-keep-who-text keep="keep"></div>
      <div kf-keep-who-pics keep="keep"></div>
    </div>

    <div kf-tag-list class="kf-keep-tag-list" get-selected-keeps="getSingleSelectedKeep(keep)" adding-tag="addingTag" is-shown="showTags(keep)" ng-show="showTags(keep)" keep="keep"></div>
  </div>

  <div class="kf-keep-footer kf-keep-footer-buttons-wrapper clearfix" ng-if="userLoggedIn">
    <span kf-keep-master-button keep="keep" ng-if="keep" class="kf-keep-footer-button-wrapper" libraries="libraries"></span>
    <span kf-keep-share-button keep="keep" show-install-extension-modal="showInstallExtensionModal()" ng-if="keep" class="kf-keep-footer-button-wrapper"></span>
    <span kf-keep-tag-button keep="keep" ng-show="keep && keep.isMyBookmark && !hasTag(keep)" class="kf-keep-footer-button-wrapper" show-add-tag="showAddTag()"></span>
  </div>

  <div class="kf-keep-drag-mask"></div>
</div>
