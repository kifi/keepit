<div ng-controller="ManageTagCtrl">

  <div class="manage-tag-wrapper">
    <div class="manage-tag">
      <h2>Manage your tags</h2>
      <div class="manage-tag-container">
      	<div class="manage-tag-header">


      		<div class="manage-tag-search-box">
      			<div class="manage-tag-input-box" ng-class="{ 'focused': isFilterFocused }">
			        <a class="manage-tag-input-clear" href="javascript:" ng-click="clearFilter(true)" ng-show="filter.name">&times;</a>
			        <input class="manage-tag-filter-input" kf-no-drag-input name="filterName" placeholder="Search tags..." maxlength="32" ng-model="filter.name" ng-change="onFilterChange()" ng-focus="focusFilter()" ng-blur="blurFilter()">
		      	</div>
      		</div>

      		<div class="manage-tag-sort-by">
      			<div class="manage-tag-sort-text">Sort by:</div>
      			<div class="manage-tag-sort-button" ng-class="{'on': selectedSort == 'num_keeps'}" ng-click="selectedSort = 'num_keeps'">Most used</div>
      			<div class="manage-tag-sort-button" ng-class="{'on': selectedSort == 'name'}" ng-click="selectedSort = 'name'">ABC</div>
      		</div>
      	</div>
NumTags: {{tagList.length}} unique: {{isUniqueTags()}} sort {{selectedSort}} {{num}}
      	<div class="manage-tag-content" smart-scroll scroll-distance="tagsScrollDistance" scroll-disabled="isTagScrollDisabled()" scroll-next="manageTagScrollNext()">
      		<ul class="manage-tag-list">
      			<li class="manage-tag-row" ng-repeat="tag in tagsToShow">
      				<div class="manage-tag-row-name-section">
                                    <div class="manage-tag-row-name">{{tag.name}}</div>
                              </div>
                              <span class="manage-tag-row-num-keeps-section">
                                    <ng-pluralize count="tag.keeps | number:0"
                                          when="{'0': 'No keeps', 'one': '1 keep', 'other':'{} keeps'}">
                                    </ng-pluralize>
                              </span>
      				<span class="manage-tag-row-links-section">
      					<span class="manage-tag-row-link" ng-click="convertToLibrary(tag.name)">
      						Convert to library
      					</span>&middot;
      					<span class="manage-tag-row-link" ng-click="removeTag(tag)">
      						Delete
      					</span>
      				</span>
      			</li>
                        <li class="manage-tag-row">
                              <div class="manage-tag-row-name-section">
                                    <div class="manage-tag-row-name">San Francisco is the best city ever but its p(max 64 characters)</div>
                              </div>
                              <span class="manage-tag-row-num-keeps-section">
                                    <ng-pluralize count="2300 | number:0"
                                          when="{'0': '', 'one': '1 keep', 'other':'{} keeps'}">
                                    </ng-pluralize>
                              </span>
                              <span class="manage-tag-row-links-section">
                                    <span class="manage-tag-row-link">
                                          Convert to library
                                    </span>&middot;
                                    <span class="manage-tag-row-link">
                                          Delete
                                    </span>
                              </span>
                        </li>
      		</ul>
      	</div>
            <span ng-click="manageTagScrollNext()" ng-hide="isTagScrollDisabled()" class="kf-show-more">Show more</span>
      </div>

    </div>
  </div>
</div>
