<li class="kf-tag">
  <div ng-class="{ renaming: isRenaming, 'kf-dragged': isDragging, 'kf-drag-target': isDragTarget }"
    ui-draggable="true" drag="tag" drag-channel="tagDragChannel" ui-on-drop="onKeepDrop($data)" drop-channel="keepDragChannel" drag-enter-class="kf-candidate-drag-target">
    <div class="kf-tag-drag-container" ui-on-drop="onTagDrop($data)" drop-channel="tagDragChannel" drag-enter-class="kf-candidate-tag-drag-target">
      <div class="kf-tag-info" ng-click="navigateToTag($event)">
        <div class="kf-tag-count" ng-show="!isWaiting">{{tag.keeps}}</div>
        <div class="kf-tag-name-holder">
          <div class="kf-tag-name" ng-show="!isRenaming">{{tag.name}}</div>
          <input class="kf-tag-rename" type="text" placeholder="Type new tag name" ng-model="renameTag.value" ng-keydown="onRenameKeydown($event)" ng-show="isRenaming">
        </div>
        <div class="kf-tag-waiting" ng-show="isWaiting"></div>
      </div>
      <div class="kf-tag-tool kf-tag-dropdown-toggle" ng-show="!isDragging" ng-click="toggleDropdown($event)"></div>
      <div class="kf-tag-tool kf-tag-handle"></div>
      <ul class="kf-dropdown-menu" ng-show="isDropdownOpen">
        <li>
          <a href="javascript:" ng-click="setRenaming()">Rename</a>
      </li>
        <li>
          <a href="javascript:" ng-click="remove()">Remove</a>
        </li>
      </ul>
      <div class="kf-drag-mask"></div>
      <div class="kf-tag-drag-mask"></div>
      <div class="kf-tag-new-location-mask hidden"></div>
    </div>
  </div>
</li>
