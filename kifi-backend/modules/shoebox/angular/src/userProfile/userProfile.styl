//
// Desktop styles.
// Note: mobile styles defined at the bottom.
//
.kf-user-profile
  margin: 0 auto
  text-align: center

  // The following styles are hacky and can be removed when we move to
  // a two-column layout.
  margin-top: -15px  // So that the background will extend to the top
  margin-left: 1px   // Otherwise there is a small area jutting out on the top left

.delighted-visible ~ div .kf-user-profile
  margin-top: 15px  // Push down profile if we're showing the delighted survey.

.kf-user-profile-header
  position: relative
  padding: 50px 0 25px
  color: #fff
  background: #3e4954

.kf-up-basic-info-main-content
  margin: 0 auto
  width: 500px

.kf-user-profile-available-action
  position: absolute
  top: 10px
  right: 12px

.kf-user-profile-connect
  display: inline-block
  cursor: pointer

  &.friends
    padding: 0
    text-align: right

  &.connect:hover .kf-user-profile-action.connect
    width: 60px

  &.request-sent
    cursor: initial

.kf-user-profile-connect-image
  display: inline-block

  &.add-friend
    sprite2x($add-friend)

  &.already-friends
    sprite2x($add-friend-active)
    width: 36px

    &.hidden
      opacity: 0

.kf-user-profile-action
  position: relative
  top: 3px
  margin-left: 0px
  vertical-align: top
  font-size: 0.8em
  overflow: hidden

  &.connect
    display: inline-block
    width: 0px
    margin-left: 5px
    transition: 0.1s linear width

  &.hidden
    display: inline-block
    width: 0px
    height: 15px
    margin-left: 3px
    opacity: 0

.kf-user-profile-progress
  position: absolute
  top: 40px
  right: 5px
  width: 100px

.kf-user-profile-progress-bar
  position: absolute
  height: 2px
  width: 0%
  max-width: 70px
  background-color: white

.kf-user-profile-progress-check
  position: absolute
  top: -5px
  left: 75px
  width: 13px
  height: 9px
  opacity: 0
  background-size: cover
  background-repeat: no-repeat
  background-image: url('../img/checkmark.png')

.kf-user-profile-action-menu
  height: 0px
  overflow: hidden
  transition: 0.1s linear height

  &.on
    height: 50px

  .kf-user-profile-action-selection
    padding: 2px 10px 2px 10px
    margin-left: 30px
    margin-right: -8px
    font-size: 0.7em
    font-weight: 100
    line-height: 20px

    &:hover
      background-color: #37414b

.kf-user-profile-settings-link
  position: relative
  font-size: 1.2em
  color: white

  .kf-user-profile-settings-gear
    display: inline-block
    width: 20px
    height: 20px

  .kf-user-profile-action
    position: relative
    top: 1px

.kf-user-profile-friend-request-header
  position: relative
  height: 40px
  padding: 0 30px
  overflow: hidden
  background-color: libraryGreen
  font-size: 13px
  color: white
  transition: 0.2s linear height

  &.close
    height: 0px

  .kf-user-profile-friend-request-msg
    float: left
    margin-top: 12px


  .kf-user-profile-friend-respond
    float: right
    padding: 5px 15px
    margin-left: 10px
    margin-top: 8px
    border: 1px solid white
    border-radius: 5px
    font-size: 11px
    cursor: pointer

    &.accept
      background-color: white
      color: libraryGreen

.kf-user-profile-picture
  height: 100px
  width: 100px
  border-radius: 100%

.kf-user-profile-name
  font-size: 1.3em
  line-height: 2em

.kf-user-profile-user-nav-link
  display: inline-block
  color: #9fa3aa

  &:first-child
    margin-right: 5px

    &::after
      margin-left: 5px
      content: 'Â·'

.kf-upl-nav-container
  height: 54px
  padding-top: 15px
  background: #e8e8e8
  text-align: center

.kf-upl-card-list
  max-width: 800px
  margin: 0 auto 40px

.kf-upl-nav
  display: table
  width: 75%
  max-width: 600px
  margin: 0 auto
  border-radius: 6px
  background: #cbcbcb

.kf-upl-nav-link
  display: table-cell
  width: 33%
  height: 38px
  line-height: 38px
  border-radius: 6px  // should be inherit, see github.com/tj/nib/issues/271
  font-size: 0.8em
  color: #333539
  font-weight: bold
  text-transform: uppercase

  &.kf-selected
    background: #fff
    color: #000
    outline: none

  &:not(.kf-selected):hover
    background: #d0d0d0

  &.kf-my::before
    content: 'My '

.kf-upl-empty
  padding: 30px
  color: #777

.kf-upl-card
  display: inline-block
  width: 210px
  height: 280px
  margin: 23px 9px 0
  background: gray
  background-size: cover
  border-radius: 16px
  vertical-align: top
  position: relative
  overflow: hidden
  text-align: center
  box-shadow: 0 3px #f5f5f5, 0 4px #c9ccc0, 0 6px #e5e5e5, 0 7px #c4c6cb, 0 8px #d4d4d4, 0 9px #bec1c5

.kf-upl-card-link
  position: absolute
  top: 0
  left: 0
  right: 0
  bottom: 0
  user-select: none

.kf-upl-card-icon
  position: absolute
  left: 50%
  width: 20px
  height: 21px
  margin-left: -10px
  opacity: .5
  background-position: center
  background-size: auto 21px
  background-repeat: no-repeat

  &.kf-sys
    top: 20px

  &.kf-user
    top: 160px
    z-index: 1

.kf-upl-card-setting
  position: absolute
  top: 5px
  right: 5px
  width: 20px
  height: 20px
  z-index: 2
  background-position: center
  background-size: 15px 15px
  background-repeat: no-repeat

  :not(:hover)>&
    display: none

  &:not(:hover):not(:focus)
  &:active
    opacity: .7

.kf-upl-card-name
  line-height = 25px
  position: absolute
  bottom: 208px
  left: 16px
  right: 16px
  color: #fff
  font-weight: bold
  font-size: 20px
  line-height: line-height
  word-wrap: break-word

  .kf-sys~&
    height: line-height

.kf-upl-counts
  position: absolute
  top: 78px
  left: 0
  right: 0

.kf-upl-count
  font-size: 10px
  color: rgba(255,255,255,.7)

  .kf-upl-count+&::before
    content: '\00b7'
    padding: 0 4px

.kf-upl-card-byline
  position: absolute
  top: 210px
  left: 20px
  right: 20px
  color: #fff
  font-size: 12px
  font-weight: bold
  letter-spacing: .6px
  text-transform: uppercase
  text-shadow: 0 0 3px rgba(0,0,0,.6)

.kf-upl-card-by
  font-style: italic
  font-weight: normal
  text-transform: none
  letter-spacing: normal
  margin-right: 2px

:hover>.kf-upl-card-by-name
  text-decoration: underline

.kf-upl-card-cover
  position: absolute
  left: 0
  right: 0
  bottom: 0
  height: 56%
  overflow: hidden

  &::after
    position: absolute
    top: 0
    left: 0
    right: 0
    bottom: 0
    background-color: rgba(0,0,0,.3)
    content: ''

.kf-upl-card-cover-image
  position: absolute
  top: -3px
  left: -3px
  right: -3px
  bottom: -3px
  background-size: cover
  -webkit-filter: blur(3px)
  -moz-filter: blur(3px)
  filter: blur(3px)

.kf-upl-card-owner-pic-a
  diameter = 60px
  position: absolute
  z-index: 1
  width: diameter
  height: diameter
  top: 50%
  left: 50%
  margin-left: -(diameter / 2)
  border-radius: 50%

  &:hover
    transform: scale(1.03)

.kf-upl-card-owner-pic
  position: absolute
  top: 0
  left: 0
  width: 100%
  height: 100%
  border-radius: 50%
  box-shadow: 0 0 3px rgba(0,0,0,.3) inset

.kf-upl-card-foot
  position: absolute
  left: 0
  right: 0
  bottom: 0
  height: 35px
  border-top: 1px solid rgba(255,255,255,.3)
  -webkit-font-smoothing: antialiased

follower-pic-diameter = 23px

.kf-upl-followers
  padding: 5px 16px 0
  text-align: left
  line-height: follower-pic-diameter
  font-size: 11px
  vertical-align: middle
  color: rgba(255,255,255,.7)

.kf-upl-follower
  display: inline-block
  vertical-align: top
  width: follower-pic-diameter
  height: follower-pic-diameter
  background-size: cover
  background-position: center
  border-radius: 100%
  margin-right: 4px

  &:last-of-type
    margin-right: 3px

.kf-upl-all-followers
  margin-left: 1px

.kf-upl-updated
.kf-upl-unlisted
  line-height: 33px
  font-size: 12px
  color: rgba(255,255,255,.5)

//
// Mobile styles.
//
.kf-logged-out.kf-mobile
  .kf-user-profile
    font-size: 1.5em

  .kf-user-profile-header
    padding: 55px 0 30px

  .kf-upl-nav-container
    height: 70px
    padding-top: 20px

  .kf-upl-nav-link
    height: 45px
    width: 30%
    max-width: 220px
    font-size: 1.1em
