<div class="kf-oph">
  <div
    ng-if="shouldShowInviteBanner()"
    kf-generic-banner
    text="You've been invited to join {{profile.name}}'s team."
    actions="inviteBannerButtons"
  ></div>
  <div
    ng-if="shouldShowSignupBanner()"
    kf-generic-banner
    thumb="{{membership.invite.inviter|pic}}"
    text="{{membership.invite.inviter|name}} invited you to become a member of this team."
    actions="signupBannerButtons"
  ></div>
  <div class="kf-oph-wrapper">
    <div class="kf-oph-top">
      <div kf-profile-image readonly="readonly" profile="profile" upload-url="{{'/organizations/' + profile.id + '/avatar/upload'}}" pic-url="profile | pic:200"></div>
      <div class="kf-oph-about">
        <div class="kf-oph-about-info">
          <div class="kf-oph-name" kf-click-to-edit on-save="save" value="profile.name" class-name="'kf-oph-input'" readonly="readonly"></div>
          <div
            class="kf-oph-description"
            kf-click-to-edit
            on-save="save"
            class-name="'kf-oph-input'"
            input-placeholder="'Description'"
            value="profile.description"
            readonly="readonly"
            ng-if="!(readonly && !profile.description.length)"
          ></div><div ng-if="showAdminLink"><a class="kf-oph-admin-link" ng-href="https://admin.kifi.com/admin/organization/{{profile.id}}">♡</a></div>
          <p class="kf-oph-url">
            <span kf-click-to-edit on-save="save" readonly="readonly" class-name="'kf-oph-input'" input-placeholder="'Link (e.g. http://example.com)'" linkable="true" value="profile.site"></span>
          </p>
          <div class="kf-oph-upper-right">
            <a ng-if="canInvite" class="kf-link kf-oph-invite-button" ng-click="goToMemberInvite()">
              <svg
                kf-symbol-sprite
                icon="add-member"
              ></svg>
              <span>Invite new member</span>
            </a>
            <span
              kf-upsell
              position="bottom"
              on-click="onClickUpsellInvite()"
              on-hover="onHoverUpsellInvite()"
              class="kf-oph-upsell-invite"
            >
              Restrict who can invite by <a class="kf-link" href="https://www.kifi.com/teams">Upgrading to Premium</a>.
            </span>
          </div>
        </div>
        <nav class="kf-oph-stats">
          <button
            class="kf-oph-stats-a kf-button-textonly"
            ui-sref="orgProfile.libraries"
            ng-click="onClickTrack($event, 'clickedProfileLibraries')"
            ng-class="{ 'active': state.current.activetab === 'libraries' }"
          >
            <div class="kf-oph-stats-count">{{profile.numLibraries|num}}</div>
            <div class="kf-oph-stats-name">Libraries</div>
          </button>
          <button
            class="kf-oph-stats-a kf-button-textonly"
            ui-sref="orgProfile.members"
            ng-click="onClickTrack($event, 'clickedProfileMembers')"
            ng-class="{ 'active': state.current.activetab === 'members' }"
          >
            <div class="kf-oph-stats-count">{{profile.numMembers|num}}</div>
            <div class="kf-oph-stats-name">Members</div>
            <span
              kf-upsell
              position="right"
              on-click="onClickUpsellMembers()"
              on-hover="onHoverUpsellMembers()"
              class="kf-oph-upsell-invite"
            >
              Restrict who can view your team’s members by <a class="kf-link" href="https://www.kifi.com/teams">Upgrading to Premium</a>.
            </span>
          </button>
          <button
            class="kf-oph-stats-a kf-button-textonly"
            ui-sref="orgProfile.settings"
            ng-click="onClickTrack($event, 'clickedProfileSettings')"
            ng-class="{ 'active': state.current.activetab ==='settings'}"
            ng-if="!readonly"
          >
            <div class="kf-oph-stats-name">Settings</div>
          </button>
        </nav>
        </table>
      </div>
    </div>
  </div>
</div>
