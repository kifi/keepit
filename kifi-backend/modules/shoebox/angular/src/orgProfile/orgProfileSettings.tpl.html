<main class="kf-ops kf-wrapper">
  <div class="kf-row kf-row-responsive">
    <div class="kf-ops-nav">
      <nav class="kf-ops-nav-box kf-container" kf-follow-scroll kf-follow-scroll-disabled="{{ state.current.activenav !== 'team-settings' }}">
        <div class="kf-container-header">
          <h1>Settings</h1>
        </div>
        <ul>
          <li class="kf-ops-nav-item" ng-if="canViewPrivileges" ng-class="{ 'kf-ops-nav-active': state.current.activenav === 'team-settings' }">
            <a class="kf-link" ng-click="onClickTrack($event, 'clickPrivileges', 'main')" ui-sref="orgProfile.settings.team({ '#': 's-' })">Member Privileges</a>
          </li>
          <!-- sublisting -->
          <li ng-if="state.current.activenav === 'team-settings'" class="kf-ops-nav-item kf-ops-nav-item-inner">
            <a
              class="kf-link"
              ui-sref="orgProfile.settings.team({ '#': 'team-profile-' })"
              ng-click="onClickTrack($event, 'clickPrivileges', 'teamProfile')"
            >Team Profile</a>
          </li>
          <li ng-if="state.current.activenav === 'team-settings'" class="kf-ops-nav-item kf-ops-nav-item-inner">
            <a
              class="kf-link"
              ui-sref="orgProfile.settings.team({ '#': 'libraries-' })"
              ng-click="onClickTrack($event, 'clickPrivileges', 'libraries')"
            >Libraries</a>
          </li>
          <li ng-if="state.current.activenav === 'team-settings'" class="kf-ops-nav-item kf-ops-nav-item-inner">
            <a
              class="kf-link"
              ui-sref="orgProfile.settings.team({ '#': 'members-' })"
              ng-click="onClickTrack($event, 'clickPrivileges', 'members')"
            >Members</a>
          </li>
          <li ng-if="state.current.activenav === 'team-settings'" class="kf-ops-nav-item kf-ops-nav-item-inner">
            <a
              class="kf-link"
              ui-sref="orgProfile.settings.team({ '#': 'integrations-' })"
              ng-click="onClickTrack($event, 'clickPrivileges', 'integrations')"
            >Integrations</a>
          </li>
          <!-- -->
          <li ng-if="canManagePlan" class="kf-ops-nav-item" ng-class="{ 'kf-ops-nav-active': state.current.activenav === 'payment-plan' }">
            <a
              class="kf-link"
              ui-sref="orgProfile.settings.plan"
              ng-click="onClickTrack($event, 'clickPaymentPlan')"
            >Payment Plan</a>
          </li>
          <li ng-if="canManagePlan" class="kf-ops-nav-item" ng-class="{ 'kf-ops-nav-active': state.current.activenav === 'activity-log' }">
            <a
              class="kf-link"
              ui-sref="orgProfile.settings.activity"
              ng-click="onClickTrack($event, 'clickActivityLog')"
            >Activity Log</a>
          </li>
          <li ng-if="canManagePlan" class="kf-ops-nav-item" ng-class="{ 'kf-ops-nav-active': state.current.activenav === 'billing-contacts' }">
            <a
              class="kf-link"
              ui-sref="orgProfile.settings.contacts"
              ng-click="onClickTrack($event, 'clickBillingContacts')"
            >Billing Contacts</a>
          </li>
          <li ng-if="canExportKeeps" class="kf-ops-nav-item" ng-class="{ 'kf-ops-nav-active': state.current.activenav === 'export-keeps' }">
            <a
              class="kf-link"
              ui-sref="orgProfile.settings.export"
              ng-if="canExportKeeps"
              ng-click="onClickTrack($event, 'clickExportKeeps')"
            >Export Keeps</a>
          </li>
          <li ng-if="canRedeemCredit" class="kf-ops-nav-item" ng-class="{ 'kf-ops-nav-active': state.current.activenav === 'earn-credits' }">
            <a
              class="kf-link"
              ui-sref="orgProfile.settings.credits"
            >Earn Credits</a>
          </li>
          <li ng-if="canEditIntegrations" class="kf-ops-nav-item" ng-class="{ 'kf-ops-nav-active': state.current.activenav === 'integrations' }">
            <a
                    class="kf-link"
                    ui-sref="orgProfile.settings.integrations"
            >Slack Integrations</a>
          </li>
          <!-- sublisting -->
          <li ng-if="state.current.activenav === 'integrations'" class="kf-ops-nav-item kf-ops-nav-item-inner">
            <a
              class="kf-link"
              ui-sref="orgProfile.settings.integrations({ '#': 'slack-sync-' })"
            >Fetch channels</a>
          </li>
          <li ng-if="state.current.activenav === 'integrations'" class="kf-ops-nav-item kf-ops-nav-item-inner">
            <a
              class="kf-link"
              ui-sref="orgProfile.settings.integrations({ '#': 'slack-settings-' })"
            >Settings</a>
          </li>
          <li ng-if="state.current.activenav === 'integrations'" class="kf-ops-nav-item kf-ops-nav-item-inner">
            <a
              class="kf-link"
              ui-sref="orgProfile.settings.integrations({ '#': 'blacklist-' })"
            >Blacklist</a>
          </li>
          <li ng-if="state.current.activenav === 'integrations'" class="kf-ops-nav-item kf-ops-nav-item-inner">
            <a
              class="kf-link"
              ui-sref="orgProfile.settings.integrations({ '#': 'slack-integrations-' })"
            >Libraries</a>
          </li>
        </ul>
      </nav>
      <div class="kf-ops-fixed-nav-fix">&nbsp;<!-- prevent the layout from jumping --></div>
    </div>
    <div class="kf-ops-main">
      <div ui-view></div>
      <div class="kf-ops-push"></div>
    </div>
  </div>
</main>
