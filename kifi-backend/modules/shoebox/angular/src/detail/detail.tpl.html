<div class="kf-detail-pane" ng-show="isDetailOpen()">
	<div class="kf-detail-scroll" antiscroll="{ autoHide: false }">
		<div class="kf-detail-inner" ng-class="{ single: isSingleKeep(), multiple: !isSingleKeep(), private: isPrivate(), public: isPublic() }">
			<a class="kf-detail-x" href="javascript:" ng-click="closeDetail()"></a>
			<div class="kf-page-meta" data-n="{{getLength()}}">
				<div kf-keep-detail ng-if="isSingleKeep()"></div>
				<h2 class="kf-detail-header page-title" ng-hide="isSingleKeep()" ng-bind="getTitleText()"></h2>
				<a class="kf-page-keep" href="javascript:" ng-click="toggleKeep()"></a>
				<a class="kf-page-priv" href="javascript:" ng-click="togglePrivate()"></a>
			</div>
			<div ng-if="isSingleKeep()">
				<div class="kf-page-who">
					<h2 class="kf-detail-header">Who kept this:</h2>
					<div class="kf-page-who-pics">
						<span kf-keep-who-pics me="me" keepers="keep.keepers"></span>
					</div>
					<div class="kf-page-who-text" keep="keep"></div>
				</div>
				<div class="kf-page-chatter">
					<h2 class="kf-detail-header">Talking about this Keep:</h2>
					<a class="kf-page-chatter-messages" href="{{url}}" target="_blank" data-locator="/messages"><span class="chatter-count">{{keep.conversationCount || 0}}</span>{{getPrivateConversationText()}}</a>
				</div>
			</div>
			<div class="page-colls">
				<h2 class="kf-detail-header" ng-if="keep.tagList.length > 0">In Tags:</h2>
				<h2 class="kf-detail-header" ng-if="keep.tagList.length == 0">Tags:</h2>
				<ul class="page-coll-list">
					<li class="page-coll" data-id="{{tag.id}}" ng-repeat="tag in keep.tagList">
						<a class="page-coll-a" href="/tag/{{tag.id}}">{{tag.name}}</a>
						<a class="page-coll-x" href="javascript:" ng-click="removeTag(keep, tag)">Ã—</a>
					</li>
					<li class="page-coll-new">
					  <span ng-show="!isAddingTag()">
							<a class="page-coll-add-circle" href="javascript:" ng-show="hasTags()" ng-click="showAddTagDropdown()">+</a>
							<a class="page-coll-add" href="javascript:" ng-show="!hasTags()" ng-click="showAddTagDropdown()"><span class="page-coll-add-circle">+</span> Add a tag to this keep</a>
					  </span>
					  <span ng-if="isAddingTag()">
							<input class="page-coll-input" ng-if="isAddingTag()" type="text" placeholder="tag name" ng-model="tagFilter.name" ng-keydown="onKeydown($event)">
							<ul class="page-coll-opts">
								<li class="page-coll-opt" ng-repeat="tag in tagTypeAheadResults" ng-class="{ current: isTagHighlighted(tag) }" ng-click="addTag(tag, keep)" ng-bind-html="tag.prettyHtml"></li>
								<li class="page-coll-opt" ng-if="isAddTagShown()" ng-click="createAndAddTag(keep)" ng-class="{ current: highlightedTag === null }">{{tagFilter.name}}<span class="new-label">NEW</span></li>
							</ul>
					  </span>
					</li>
				</ul>
			</div>
		</div>
	</div>
</div>
