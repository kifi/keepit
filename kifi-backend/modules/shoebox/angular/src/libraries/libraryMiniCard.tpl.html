<div class="kf-library-mini-card" ng-if="showMiniCard">

  <div class="kf-library-mini-card-header" style="border-bottom-color:{{library.color}};{{library.image|bgImageAndPos}}">
    <div class="kf-library-mini-card-curator">
      <a href="{{library.owner|profileUrl}}">
        <img class="kf-library-mini-card-curator-img" ng-src="{{library.owner|pic:100}}">
      </a>
      <span class="kf-library-mini-card-curator-info">
        <div class="kf-library-mini-card-curator-heading">Library Curator:</div>
        <div class="kf-library-mini-card-curator-name">{{library.owner|name}}</div>
      </span>
    </div>
  </div>

  <div class="kf-library-mini-card-body">
    <div class="kf-library-mini-card-name" ng-click="view()">{{library.name}}</div>

    <div class="kf-library-mini-card-stats-container">
      <span class="kf-library-mini-card-stat">
        <div class="kf-library-mini-card-stat-title">Keeps</div>
        <div class="kf-library-mini-card-stat-num">{{library.numKeeps || 0 | number}}</div>
      </span>

      <span class="kf-library-mini-card-vdivider"></span>

      <span class="kf-library-mini-card-stat">
        <div class="kf-library-mini-card-stat-title">Followers<div>
        <div class="kf-library-mini-card-stat-num">{{library.numFollowers || 0 | number}}</div>
      </span>
    </div>
  </div>

  <div class="kf-library-mini-card-hdivider"></div>

  <div>
    <button ng-if="!isMyLibrary()"
      ng-class="{'kf-library-mini-card-button-follow': !following(), 'kf-library-mini-card-button-unfollow': following()}"
      class="kf-library-mini-card-button"
      ng-click="toggleFollow($event)"
    ></button>

    <button ng-if="isMyLibrary()"
      class="kf-library-mini-card-button kf-library-mini-card-button-view"
      ng-click="view()"
    >View my library</button>
  </div>

</div>
