<div class="kf-library-mini-card" ng-show="showMiniCard">

  <div ng-switch="library.visibility">
    <div ng-switch-when="published" class="kf-library-mini-card-visbility svg-public-library-icon"></div>
    <div ng-switch-when="secret" class="kf-library-mini-card-visbility svg-private-library-icon"></div>
    <div ng-switch-when="discoverable" class="kf-library-mini-card-visbility svg-yellow-card-with-globe"></div>
  </div>

  <div class="kf-library-mini-card-header">
    <div class="kf-library-mini-card-curator">
      <a ng-if="inUserProfileBeta" href="{{library.owner.profileUrl}}">
        <img class="kf-library-mini-card-curator-img" ng-src="{{library.owner.image || 'https://www.kifi.com/assets/img/ghost.200.png'}}">
      </a>
      <img ng-if="!inUserProfileBeta" class="kf-library-mini-card-curator-img" ng-src="{{library.owner.image || 'https://www.kifi.com/assets/img/ghost.200.png'}}">
      <span class="kf-library-mini-card-curator-info">
        <div class="kf-library-mini-card-curator-heading">Library Curator:</div>
        <div class="kf-library-mini-card-curator-name">{{library.owner.firstName}} {{library.owner.lastName}}</div>
      </span>
    </div>
  </div>

  <div class="kf-library-mini-card-body">
    <div class="kf-library-mini-card-name" ng-click="view()">{{library.name}}</div>

    <div class="kf-library-mini-card-stats-container">
      <span class="kf-library-mini-card-stat">
        <div class="kf-library-mini-card-stat-title">Keeps</div>
        <div class="kf-library-mini-card-stat-num">{{library.numKeeps || 0}}</div>
      </span>

      <span class="kf-library-mini-card-vdivider"></span>

      <span class="kf-library-mini-card-stat">
        <div class="kf-library-mini-card-stat-title">Followers<div>
        <div class="kf-library-mini-card-stat-num">{{library.numFollowers || 0}}</div>
      </span>
    </div>
  </div>

  <div class="kf-library-mini-card-hdivider"></div>

  <div>
    <button ng-if="!library.isMine"
      ng-class="{'kf-library-mini-card-button-follow': !following(), 'kf-library-mini-card-button-unfollow': following()}"
      class="kf-library-mini-card-button"
      ng-click="toggleFollow($event)"
    ></button>

    <button ng-if="library.isMine"
      class="kf-library-mini-card-button kf-library-mini-card-button-view"
      ng-click="view()"
    >View my library</button>
  </div>

</div>
