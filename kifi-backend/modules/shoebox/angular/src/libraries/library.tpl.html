<div class="kf-main-library-keeps">
  <div class="kf-main-head">
    <h1 class="kf-main-title">{{library.name}}</h1>
    <div>{{library.description}} <span ng-if="library.slug" ng-click="manageLibrary()">(edit)</span></div>
    <!-- TODO: before release, get server to return a field that represents whether a library is a 
               system library. Testing for the 'main' and 'secret' strings is brittle. -->
    <div class="kf-library-share" ng-if="library.slug !== 'main' && library.slug !== 'secret'">
      <div kf-library-share-search library="library"></div>
    </div>
    <div class="kf-subtitle">
      <div class="kf-edit-keeps" ng-click="toggleEdit()">
        <span class="sprite sprite-edit-pencil-icon"></span>
        <span class="kf-edit-keeps-label">{{editKeepsLabel()}}</span>
      </div>
      <span class="kf-subtitle-text">{{getSubtitle()}}</span>
    </div>
  </div>
  <div kf-keeps
    keeps="keeps"
    keeps-loading="loading"
    keeps-has-more="hasMore"
    scroll-disabled="!hasMore"
    scroll-distance="scrollDistance"
    scroll-next="getNextKeeps()"
    edit-mode="editMode"
    toggle-edit="toggleEdit"
    update-selected-count="updateSelectedCount(numSelected)"
  ></div>
</div>
