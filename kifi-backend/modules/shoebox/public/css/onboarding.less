@import "lesshat";
@import "retina-1.1.0";

@fontSize: 24px;
@factor: unit(1px / @fontSize, em);
@blueGray: #b8c5d2;
@viewAnimationTime: 0.75s;

.gpu() {
	.transform(translateZ(0));
	.backface-visibility(hidden);
	.perspective(1000);
	.transform(translate3d(0, 0, 0));
}

.body-font() {
	font-family: 'Open Sans', sans-serif;
	-webkit-font-smoothing: antialiased;
	text-rendering: optimizeLegibility;
}

.header-font() {
	font-family: 'Raleway', sans-serif;
	-webkit-font-smoothing: antialiased;
	text-rendering: optimizeLegibility;
}

.notransition {
	.transition(~'none !important');
}

.kifi-onboarding-shade {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background: #b3bfce;
	background: rgba(0,40,90,0.3);
	.opacity(0);
	.transition(all 0.3s ease);

	&.visible {
		.opacity(1);
	}
}

@fontFactor: 0.8;

.kifi-onboarding-modal {
	position: relative;
	font-size: @fontSize;
	top: 4%;
	width: 90%;
	height: 653 * @factor;
	min-width: 440 / @fontFactor * @factor;
	max-width: 1130 * @factor;
	margin: 0 auto;
	margin-bottom: 5%;
	border: 2px solid @blueGray;
	.border-radius(5px);
	color: #979a9e;
	background: #f9fafb;
	.box-shadow(9 * @factor 9 * @factor 0 rgba(0,40,90,0.2));
	.body-font;
	text-align: center;
	.opacity(0);
	.transition(all 0.3s ease);

	&.visible {
		.opacity(1);
	}
}

@media (max-width: 800px) {
	.kifi-onboarding-modal {
		font-size: @fontFactor * @fontSize;
	}
}

.kifi-onboarding-pic {
	position: absolute;
	top: 0;
	left: 0;
	@size: 123 * @factor;
	width: @size;
	height: @size;
	@borderWidth: 20;
	border: @borderWidth * @factor solid #c6d1d8;
	background: white;
	.border-radius(100%);
	.transition(all @viewAnimationTime ease);
	.gpu();
	z-index: 1;

	.kifi-onboarding-modal.page-1 &,
	.kifi-onboarding-modal.page-7 & {
		border-width: @borderWidth * @factor;
		left: 50%;
		top: 78 * @factor;
		margin-left: -(123 + 2 * @borderWidth) / 2 * @factor;
	}

	.kifi-onboarding-modal.page-2 &,
	.kifi-onboarding-modal.page-3 &,
	.kifi-onboarding-modal.page-4 &,
	.kifi-onboarding-modal.page-5 &,
	.kifi-onboarding-modal.page-6 & {
		@borderWidth: 10;
		border-width: @borderWidth * @factor;
		@size: 133 * @factor;
		width: @size;
		height: @size;
		left: -38 * @factor;
		top: -29 * @factor;
	}
}

@media (max-width: 680px) {
	.kifi-onboarding-pic {
		.kifi-onboarding-modal.page-2 &,
		.kifi-onboarding-modal.page-3 &,
		.kifi-onboarding-modal.page-4 &,
		.kifi-onboarding-modal.page-5 &,
		.kifi-onboarding-modal.page-6 & {
			@size: 80 * @factor;
			width: @size;
			height: @size;
		}
	}
}

@headerFontSize: 20;
@headerFactor: unit(1 / @headerFontSize, em);

.kifi-onboarding-header-container {
	position: relative;
	overflow: hidden;
}

.kifi-onboarding-header {
	position: relative;
	display: inline-block;
	.header-font();
	font-size: @headerFontSize * @factor;
	line-height: 40 * @headerFactor;
	margin: 0 auto;
	margin-top: 42 * @headerFactor;
	color: #737980;
	text-align: center;
	.transition(all @viewAnimationTime ease);
	.gpu();

	.kifi-onboarding-modal.page-1 &,
	.kifi-onboarding-modal.page-7 & {
		top: -42 * @headerFactor;
		.opacity(0);
	}
}

@headerSectionMargin: 26;
.kifi-onboarding-header-section {
	margin: 0 @headerSectionMargin * @headerFactor;
}

.kifi-onboarding-section-bar {
	position: absolute;
	bottom: 0;
	width: 101 * @headerFactor;
	height: 4 * @headerFactor;
	margin-left: @headerSectionMargin * @headerFactor;
	background: #c9ea9b;
	.transition(all @viewAnimationTime ease);
	.gpu();
}

@media (max-width: 1024px) {
	.kifi-onboarding-header-section {
		margin: 0 @headerSectionMargin / 2 * @headerFactor;
	}
	.kifi-onboarding-section-bar {
		margin-left: @headerSectionMargin / 2 * @headerFactor;
	}
}

.kifi-onboarding-section-progress-bar {
	position: absolute;
	top: 0;
	left: 0;
	width: 50%;
	height: 100%;
	background: #92c152;
	.transition(all @viewAnimationTime ease);
	.gpu();
}

.kifi-onboarding-close {
	position: absolute;
	@pos: 22 * @factor;
	top: @pos;
	right: @pos;
	@size: 13 * @factor;
	width: @size;
	height: @size;
	.at2x('/assets/img/onboarding/exit.png', 100%, 100%);
	z-index: 2;
}

.kifi-onboarding-buttons {
	position: absolute;
	@padding: 22 * @factor;
	bottom: @padding;
	left: @padding;
	right: @padding;

	a {
		position: absolute;
		bottom: 0;
		@myFontSize: 18;
		@myFactor: unit(1 / @myFontSize, em);
		font-size: @myFontSize * @factor;
		padding: 9 * @myFactor 49 * @myFactor;
		line-height: 40 * @myFactor;
		.border-radius(5px);
		color: white;
		text-decoration: none;
		.transition(background .1s ease);

		.kifi-onboarding-modal.page-2 &,
		.kifi-onboarding-modal.page-3 &,
		.kifi-onboarding-modal.page-4 &,
		.kifi-onboarding-modal.page-5 &,
		.kifi-onboarding-modal.page-6 & {
			padding: 10 * @myFactor 57 * @myFactor;

			&.kifi-onboarding-prev {
				padding: 10 * @myFactor 47 * @myFactor;
			}
		}

		.kifi-onboarding-modal.page-7 & {
			padding: 10 * @myFactor 82 * @myFactor;

			&.kifi-onboarding-prev {
				padding: 10 * @myFactor 47 * @myFactor;
			}
		}
	}
}

@iconFactor: unit(1 / 18, em);
.kifi-onboarding-next-icon,
.kifi-onboarding-heart-icon {
	position: absolute;
}

.kifi-onboarding-next-icon {
	top: (60 - 22) / 2 * @iconFactor;
	right: 19 * @iconFactor;
	width: 10 * @iconFactor;
	height: 22 * @iconFactor;
	.at2x('/assets/img/onboarding/arrowright.png', 100%, 100%);
	background-size: 100%;
	background-repeat: no-repeat;
	background-position: top left;
}

.kifi-onboarding-heart-icon {
	top: (60 - 27) / 2 * @iconFactor;
	right: 39 * @iconFactor;
	width: 31 * @iconFactor;
	height: 27 * @iconFactor;
	.at2x('/assets/img/onboarding/heart2.png', 100%, 100%);
	background-size: 100%;
	background-repeat: no-repeat;
	background-position: top left;
}

.kifi-onboarding-prev.kifi-onboarding-prev {
	left: 0;
	color: white;
	@bgColor: #b8c5d2;
	background: @bgColor;

	&:hover {
		background: tint(@bgColor, 10%);
	}

	&:active {
		background: shade(@bgColor, 10%);
	}

	.kifi-onboarding-modal.page-1 & {
		color: #444444;
		@bgColor: #d5dde5;
		background: @bgColor;

		&:hover {
			background: tint(@bgColor, 10%);
		}

		&:active {
			background: shade(@bgColor, 10%);
		}
	}
}

.kifi-onboarding-next {
	right: 0;
	@bgColor: #6ca4f2;
	background: @bgColor;

	&:hover {
		background: tint(@bgColor, 10%);
	}

	&:active {
		background: shade(@bgColor, 10%);
	}
}

.kifi-onboarding-button-text {
	.kifi-onboarding-modal.page-1 & {
		position: relative;
		left: -5px;
	}
}

.kifi-onboarding-view {
	position: absolute;
	top: 150 * @factor;
	bottom: 0;
	left: 0;
	width: 100%;
	overflow: hidden;
}

@numSlides: 7;

.kifi-onboarding-views {
	position: absolute;
	top: 0;
	left: 0;
	width: @numSlides * 100%;
	height: 100%;
	.transition(all @viewAnimationTime ease);
	.gpu();

	& > div {
		float: left;
		width: 100% / @numSlides;
		height: 100%;
		text-align: center;
	}

	h1 {
		@myFontSize: 36;
		@myFactor: unit(1 / @myFontSize, em);
		font-size: @myFontSize * @factor;
		font-weight: 600;
		padding: 0 30 * @myFactor;
		margin: 0 auto;
		color: #444444;
		line-height: 40 * @myFactor;
	}

	p {
		@myFontSize: 24;
		@myFactor: unit(1 / @myFontSize, em);
		font-size: @myFontSize * @factor;
		padding: 0 30 * @myFactor;
		margin: 0 auto;
		color: #979a9e;
		line-height: 36 * @myFactor;
	}

	img {
		position: relative;
		display: block;
		width: 100%;
		margin: 0 auto;
	}
}

@myFontSize: 36;
@myFactor: unit(1 / @myFontSize, em);

.kifi-onboarding-welcome,
.kifi-onboarding-finish {
	h1 {
		margin-top: 121 * @myFactor;
	}
}

.kifi-onboarding-welcome {
	p {
		max-width: 510 * @factor;
	}
}

.kifi-onboarding-welcome,
.kifi-onboarding-keeping-1,
.kifi-onboarding-keeping-2,
.kifi-onboarding-finding {
	p {
		margin-top: 20 * @factor;
	}
}

.kifi-onboarding-keeping-1 {
	h1 {
		position: relative;
		left: 5 * @factor;
	}
	p {
		position: relative;
		left: 16 * @factor;
	}

	img {
		left: -29 * @factor;
	}

	p {
		max-width: 735 * @factor;
	}

	img {
		max-width: 509 * @factor;
		max-height: 196 * @factor;
	}
}

.kifi-onboarding-keeping-2 {
	h1 {
		position: relative;
		left: 5 * @factor;
	}
	p {
		position: relative;
		left: 16 * @factor;
	}

	img {
		left: -3 * @factor;
	}

	img {
		max-width: 419 * @factor;
		max-height: 122 * @factor;
	}
}

.kifi-onboarding-keeping-1,
.kifi-onboarding-keeping-2,
.kifi-onboarding-finding {
	img {
		margin-top: 52 * @factor;
		padding: 0 30 * @factor;
	}
}

.kifi-onboarding-finding {
	h1 {
		position: relative;
		left: 4 * @factor;
	}
	p {
		position: relative;
		left: 13 * @factor;
	}

	img {
		top: -12 * @factor;
		left: -23 * @factor;
	}

	p {
		line-height: 1.21;
		margin-top: 23 * @factor;
		max-width: 575 * @factor;
	}

	img {
		max-width: 720 * @factor;
		max-height: 395 * @factor;
	}
}

.kifi-onboarding-chatting,
.kifi-onboarding-organizing {
	h1 {
		text-align: left;
	}

	p {
		line-height: 1.21;
		margin: 0;
		text-align: left;
		margin-top: 30 * @factor;
	}

	p:last-child {
		margin-top: 33 * @factor;
	}
}

.kifi-onboarding-chatting {
	h1 {
		max-width: 475 * @myFactor;
	}

	p {
		max-width: 415 * @factor;
	}

	img {
		top: -91px;
		max-width: 403 * @factor;
		max-height: 483 * @factor;
	}

	.kifi-onboarding-texts {
		position: relative;
		left: 20 * @factor;
	}

	.kifi-onboarding-img {
		position: relative;
		left: -67 * @factor;
		top: 17 * @factor;
	}

	.kifi-onboarding-texts,
	.kifi-onboarding-img {
		display: inline-block;
		max-width: 49%;
		vertical-align: top;
	}
}

.kifi-onboarding-organizing {
	h1 {
		max-width: 405 * @myFactor;
	}

	p {
		max-width: 390 * @factor;
	}

	.kifi-onboarding-texts {
		position: relative;
		left: 3 * @factor;
	}

	img {
		max-width: 458 * @factor;
		max-height: 311 * @factor;
	}

	.kifi-onboarding-img,
	.kifi-onboarding-texts {
		display: inline-block;
		max-width: 49%;
		vertical-align: top;
	}
}

.kifi-onboarding-finish {
	h1 {
		position: relative;
		left: 9 * @myFactor;
	}

	p {
		.header-font();
		@myFontSize: 36;
		@myFactor: unit(1 / @myFontSize, em);
		position: relative;
		left: 15 * @myFactor;
		font-size: @myFontSize * @factor;
		line-height: normal;
		margin-top: 23 * @myFactor;
		max-width: 610 * @myFactor;
	}
}

.kifi-onboarding-quote {
	display: inline-block;
	margin: 0 auto;
}

.kifi-onboarding-author {
	text-align: right;
	@myFontSize: 12;
	@myFactor: unit(1 / @myFontSize, em);
	font-size: @myFontSize * @factor;
	margin-top: 16 * @myFactor;
	margin-right: 97 * @myFactor;
}

.kifi-onboarding-button-texts {
	display: none;
}
