@(bookmarksAndUsers: Seq[(Bookmark, NormalizedURIStats, UserWithSocial)], page: Int, count: Long)

@admin("There are " + bookmarksAndUsers.size + " Bookmarks. Page #" + page + " of " + count) {
    <h2>Showing @bookmarksAndUsers.size Bookmarks of total @count (Page @page)</h2>
  <table class="table table-bordered">
    <tr>
      <th>Id</th>
      <th>User</th>
      <th>Title</th>
      <th>Source</th>
      <th>Shares</th>
      <th>URI Hash</th>
      <th>Creation</th>
      <th>URI State</th>
    </tr>
  @for((bookmark, uriStat, user) <- bookmarksAndUsers) {
    <tr>
      <td>@bookmark.id.get.id</td>
      <td>@adminHelper.userDisplay(user)</td>
      <td>@adminHelper.bookmarkDisplay(bookmark)</td>
      <td>@bookmark.source</td>
      <td>@uriStat.bookmarks.size</td>
      <td>@uriStat.uri.urlHash</td>
      <td>@bookmark.createdAt</td>
      <td>
        @{uriStat.uri.state.value match {
          case "indexed" => {
            <span class="label label-success">{uriStat.uri.state.value}</span>
          } 
          case "active" => {
            <span class="label label-important">{uriStat.uri.state.value}</span>
          } 
          case "fallbacked" => {
            <span class="label label-warning">{uriStat.uri.state.value}</span>
          } 
          case "scraped" => {
            <span class="label label-info">{uriStat.uri.state.value}</span>
          } 
          case "fallback_failed" => {
            <span class="label label-inverse">{uriStat.uri.state.value}</span>
          } 
          case _ => {
           <span class="label">{uriStat.uri.state.value}</span>
          }
        }}
      </td>
    </tr>
  }
  </table>
  <div class="pagination">
    <ul>
      <li>
        @if(page > 0) {
          <a href="@com.keepit.controllers.routes.BookmarksController.bookmarksView(page - 1)">
        } else {
         <a href="#">
        }
        Prev
        </a>
      </li>
      <li>
        @if(bookmarksAndUsers.size > 0) {
          <a href="@com.keepit.controllers.routes.BookmarksController.bookmarksView(page + 1)">
        } else {
         <a href="#">
        }
        Next
        </a>
      </li>
    </ul>
  </div>
}